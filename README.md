# このテンプレートの特徴

## コードを整理しやすいようになる
普通の GAS だと、コードが長くなり「同じような処理を何度も書く」ことが増えがちです。
このテンプレートを使うと、処理を部品（パーツ）ごとに分けて書けるようになるので、結果的に再利用しやすく、スッキリしたコードが書けます。

## ローカル開発ができる
GAS のエディタだけでは git で管理できなかったり、自分の好きなエディタを使えなかったりと不便なことが多いです。
このテンプレートは ローカルで開発すること前提で作られているので、git 管理や VSCode などのツールをそのまま使えます。

## デプロイがかんたん
「ローカルで書いて GAS にコピペして反映する」作業はもう不要です。
コマンドひとつで ローカルから直接 GAS に反映できます。

## エラーを早めに発見できる
JavaScript だけだと、エラーに気づくのは動かしてからなことが多いです。
TypeScript を使うと、書いている時点で基本的なエラーを教えてくれるので、エラーに気づくのが早くなります。

## コードの書き方がそろう
チームで書くと、人によってバラバラな書き方になりがちです。
このテンプレートには 自動でコードを整える仕組みがあるので、常に統一感のあるコードが保てます。

# 使用技術

このテンプレートでは、いくつかのツールや仕組みを組み合わせて「書きやすさ」「管理のしやすさ」「安心感」を実現しています。

## TypeScript
JavaScript に「型」の仕組みを足した言語です。
これを使うことで、書いているときに間違いを教えてもらえるので、エラーを早く発見できます。

## Webpack
複数のファイルをまとめて一つのファイルにしてくれるツール。
これによって、処理を小さな部品に分けて書いても、最後はちゃんと GAS で動く形にまとめてくれるようになります。

## Babel
最新の JavaScript 構文（もしくは TypeScript からの変換後コード）を、GAS の実行環境（互換性のある JavaScript）で動くように書き換えてくれるツール。
こうすることで、モダンな書き方を使いながらも動作互換性を保てます。

## ESLint
コードの書き方を自動でチェック・修正してくれるツール。
これを使えば、チームで書いてもコードの見た目や書き方がそろうので安心です。

## clasp（Command Line Apps Script Projects）
Google が提供しているコマンドラインツール。
ローカルで書いたコードを GAS にアップロード（デプロイ）したり、GAS の設定を同期したりできます。

# 導入
1. degitでテンプレートを取得
```
npm install -g degit
npx degit manntera/gas-dev-starter
```
2. 依存をインストール
```
npm install
```
3. 初期設定（Script ID / .env 生成）
```
npm run init-gas
```
   - `.clasp.json` と `.env` を対話で作成します。
   - 例として `.env.example` / `.clasp.json.example` を同梱しています。
4. Google アカウントでログイン
```
npm run login
```
5. デプロイ（本番ビルド + push）
```
npm run deploy
```
6. プロジェクトを開く
```
npm run open
```

# 構成メモ
- `dist/` は Git 管理外（ビルド生成物）。`src/appsscript.json` をビルド時に `dist/` へコピーします。
- `.env` の値はビルド時にコードへ埋め込まれます。機密は `PropertiesService` 等の利用を推奨。
- `export const main = () => { ... }` のように関数を export すると、gas-webpack-plugin が自動でグローバル公開します。

# スクリプト
- `npm run build` : 開発ビルド（ソースマップあり）
- `npm run build:prod` : 本番ビルド（最小化）
- `npm run deploy` : 本番ビルド → `clasp push`
- `npm run typecheck` : TypeScript 型チェックのみ
- `npm run lint` : ESLint 実行（Flat Config）

# 互換性メモ
- TypeScript は 5.9 系を採用し、ESLint は Flat Config（v9）で設定しています。
